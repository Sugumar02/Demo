<profile:monitoringProfile xmlns:profile="http://www.ibm.com/xmlns/prod/websphere/messagebroker/6.1.0.3/monitoring/profile" profile:version="2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<profile:eventSource profile:eventSourceAddress="KimballNumberRequest.terminal.out" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Inbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="none"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/HTTPInputHeader/X-Original-HTTP-Command"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Body/ns:getKimballNumbers/RequestID">
				<profile:prefixMapping profile:prefix="ns" profile:URI="http://www.primark.co.uk/GetKimballNumber/"/>
				</profile:valueQuery>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@service"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="InputQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@portType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageFormat"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/ReplyIdentifier"/>
			</profile:simpleContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="body" profile:encoding="CDATA"/>
	</profile:eventSource>	
	
	
	<profile:eventSource profile:eventSourceAddress="KimballNumberRequest.transaction.Rollback" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Exception_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/HTTPInputHeader/X-Original-HTTP-Command"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Body/ns:getKimballNumbers/RequestID">
				<profile:prefixMapping profile:prefix="ns" profile:URI="http://www.primark.co.uk/GetKimballNumber/"/>
				</profile:valueQuery>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@service"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="InputQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@portType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageFormat"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/ReplyIdentifier"/>
			</profile:simpleContent>
			<profile:complexContent profile:name="ExceptionMessage" profile:dataType="string">
				<profile:payloadQuery profile:queryText="$ExceptionList"/>
			</profile:complexContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="body" profile:encoding="CDATA"/>
	</profile:eventSource>
	
	
	<profile:eventSource profile:eventSourceAddress="GetKimballNuberFromIPMS.terminal.in" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Inbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/HTTPInputHeader/X-Original-HTTP-Command"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Body/ns:getKimballNumbers/RequestID">
				<profile:prefixMapping profile:prefix="ns" profile:URI="http://www.primark.co.uk/GetKimballNumber/"/>
				</profile:valueQuery>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@service"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="InputQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@portType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageFormat"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/ReplyIdentifier"/>
			</profile:simpleContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="body" profile:encoding="CDATA"/>
	</profile:eventSource>
	
	
	<profile:eventSource profile:eventSourceAddress="GetKimballNuberFromIPMS.terminal.out" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Outbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/WrittenDestination/SOAP/Request/Transport/HTTP/WebServiceURL"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Body/ns:getKimballNumbersResponse/RequestID">
				<profile:prefixMapping profile:prefix="ns" profile:URI="http://www.primark.co.uk/GetKimballNumber/"/>
				</profile:valueQuery>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/Transport/HTTP/ReplyStatusCode"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="InputQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@portType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageFormat"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/ReplyIdentifier"/>
			</profile:simpleContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="body" profile:encoding="CDATA"/>
	</profile:eventSource>
	
	
	<profile:eventSource profile:eventSourceAddress="SendKimballNumber.terminal.in" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Outbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/WrittenDestination/SOAP/Request/Transport/HTTP/WebServiceURL"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Body/ns:getKimballNumbersResponse/RequestID">
				<profile:prefixMapping profile:prefix="ns" profile:URI="http://www.primark.co.uk/GetKimballNumber/"/>
				</profile:valueQuery>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/Transport/HTTP/ReplyStatusCode"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="InputQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/SOAP/Context/@portType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageFormat"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$LocalEnvironment/Destination/SOAP/Reply/ReplyIdentifier"/>
			</profile:simpleContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="body" profile:encoding="CDATA"/>
	</profile:eventSource>	
</profile:monitoringProfile>