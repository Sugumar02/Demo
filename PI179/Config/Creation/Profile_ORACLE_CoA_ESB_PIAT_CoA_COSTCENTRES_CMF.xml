<profile:monitoringProfile xmlns:profile="http://www.ibm.com/xmlns/prod/websphere/messagebroker/6.1.0.3/monitoring/profile" profile:version="2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<profile:eventSource profile:eventSourceAddress="ESB.PIAT.COA.COSTCENTRES.IQ.terminal.out" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Inbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="none"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQRFH2/usr/UUID"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/PutDate"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/PutTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="SourceQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/SourceQueue"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/ReplyToQMgr"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId">
				<profile:valueQuery profile:queryText="$Root/MQMD/CodedCharSetId"/>
			</profile:simpleContent>			
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageType" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/XMLNSC/COST_CENTRE/EXTRACTION_DATE"/>
			</profile:simpleContent>	
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Persistence"/>
			</profile:simpleContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="none" profile:encoding="CDATA"/>
	</profile:eventSource>
	
	<profile:eventSource profile:eventSourceAddress="ESB.PIAT.COA.COSTCENTRES.IQ.transaction.Rollback" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Exception_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQRFH2/usr/UUID"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/PutDate"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/PutTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="SourceQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/SourceQueue"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/ReplyToQMgr"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId">
				<profile:valueQuery profile:queryText="$Root/MQMD/CodedCharSetId"/>
			</profile:simpleContent>			
			<profile:simpleContent profile:name="Encoding" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/MQMD/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageType" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/XMLNSC/COST_CENTRE/EXTRACTION_DATE"/>
			</profile:simpleContent>	
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Persistence"/>
			</profile:simpleContent>
			<profile:complexContent profile:name="ExceptionMessage" profile:dataType="string">
				<profile:payloadQuery profile:queryText="$ExceptionList"/>
			</profile:complexContent>
		</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="none" profile:encoding="CDATA"/>
	</profile:eventSource>
	
	<profile:eventSource profile:eventSourceAddress="CallPIATService.ValidatePIATResponse.terminal.out" profile:enabled="true">
		<profile:eventPointDataQuery>
			<profile:eventIdentity>
				<profile:eventName profile:literal="Outbound_Event"/>
			</profile:eventIdentity>
			<profile:eventCorrelation>
				<profile:localTransactionId profile:sourceOfId="automatic"/>
				<profile:parentTransactionId profile:sourceOfId="automatic"/>
				<profile:globalTransactionId profile:sourceOfId="automatic"/>
			</profile:eventCorrelation>
			<profile:eventFilter profile:queryText="true()"/>
			<profile:eventUOW profile:unitOfWork="messageFlow"/>
		</profile:eventPointDataQuery>
		<profile:applicationDataQuery>
			<profile:simpleContent profile:name="AuditSource" profile:dataType="string">
				<profile:valueQuery profile:queryText="string('MainFlow')"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageId" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Environment/Variables/UUID"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutDate" profile:dataType="dateTime">
				<profile:valueQuery profile:queryText="$Root/HTTPResponseHeader/Date"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="PutTime" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/CreationTime"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="SourceQueue" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Environment/Variables/SessionId"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="ReplyToQMgr" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Environment/Variables/responsecode"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="CodedCharSetId" profile:dataType="integer">
				<profile:valueQuery profile:queryText="$Root/Properties/CodedCharSetId"/>
			</profile:simpleContent>			
			<profile:simpleContent profile:name="Encoding" profile:dataType="integer">
				<profile:valueQuery profile:queryText="$Root/Properties/Encoding"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageSet">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageSet"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageType" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/MessageType"/>
			</profile:simpleContent>
			<profile:simpleContent profile:name="MessageFormat" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Environment/Variables/Payload/JSON/Data/changes/Item/dataFields/extraction_date"/>
			</profile:simpleContent>	
			<profile:simpleContent profile:name="IsPersistant" profile:dataType="string">
				<profile:valueQuery profile:queryText="$Root/Properties/Persistence"/>
			</profile:simpleContent>
			</profile:applicationDataQuery>
		<profile:bitstreamDataQuery profile:bitstreamContent="none" profile:encoding="CDATA"/>
	</profile:eventSource>
	
</profile:monitoringProfile>